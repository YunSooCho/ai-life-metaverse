# Lessons Registry - PM Agent

> 버전 히스토리와 배운 교훈을 기록합니다. 새로운 교훈을 배울 때마다 추가하세요.

---

## Version History

| Version | Date | Changes |
|---------|------|---------|
| v1.0.0 | 2026-02-18 | 초기 버전. GitHub Issue 관리, 개발 표준, Spec 최신화 포함 |

---

## Core Lessons (기본 교훈)

### [2026-02-15] PM은 확인만 하지 말고 해결해야 함

**상황:**
하트비트에서 문제를 감지하고 사용자에게 보고만 함

**실수:**
- 문제를 감지했지만 보고만 하고 해결하지 않음
- "서비스가 다운되었습니다"라고 보고만 하고 복구 시도 안 함

**사용자 반응:**
"넌 이 프로젝트의 PM이야! 작업을 시켜야지!"

**수정:**
- 문제 감지 시 즉시 해결 시도
- 서비스 다운 → 재시작 명령 실행
- 빌드 실패 → 로그 확인 후 수정
- 테스트 실패 → 원인 분석 후 수정

**결과:**
- PM의 올바른 역할 이해
- "PM은 확인만 하는 사람이 아니라, 문제를 감지하면 즉시 해결하는 사람"

**범주:** Core Principle (PM 역할)

---

### [2026-02-16] 테스트 프로세스 필수

**상황:**
코드 작성 후 테스트 코드 없이 Issue close 시도

**실수:**
- 코드만 작성하고 테스트 생략
- "테스트는 나중에" 미루기
- Issue close 허용 (작업 불완료 상태)

**사용자 반응:**
"테스트 없으면 작업 미완료로 간주!"

**수정:**
- 모든 코드 작업 후 테스트 코드 작성 필수
- 테스트 실행 후 Issue close 허용
- "테스트 코드 없음" 주석 추가하고 사용자에게 처리 요청

**수정된 워크플로우:**
1. read/write로 코드 작성
2. read/write로 테스트 코드 작성
3. 테스트 실행
4. 테스트 결과 확인
5. Issue close (테스트 통과 시만)

**결과:**
- Issue close 조건에 "테스트 통과" 추가
- 코드 품질 향상
- 버그 감소

**범주:** Development Standards

---

### [2026-02-16] read/write로 직접 작업

**상황:**
OpenCode CLI 사용 시도 (TUI 기반)

**실수:**
- OpenCode TUI 툴 사용 (자동화 불가능)
- GLM-4.7 모델 호환성 문제 무시
- "빨리 결과를 내기 위해" TUI 툴 사용 시도

**사용자 반응:**
"OpenCode는 TUI 기반이라 자동화 안 돼. read/write로 작성해!"

**수정:**
- 코드 작성, 버그 수정, 기능 추가, 리팩토링 → read/write 툴 사용
- OpenCode/Claude Code 등 TUI 툴 사용 금지 선언
- PM 강력 룰 v3.2로 업데이트

**결과:**
- 확실한 방법으로 작업 가능
- GLM-4.7 모델 호환성 해결
- 자동화 워크플로우 안정화

**범주:** Development Standards

---

### [2026-02-16] 개발 시간 현실적 기대

**상황:**
"코드 수정 1-2분이면 충분"이라는 오해

**실수:**
- 개발 시간을 너무 짧게 예상
- "빨리 결과를 내려고 무리"
- 테스트 미포함 예상

**사용자 반응:**
"테스트 포함 15분~20분은 당연한 거야!"

**수정:**
- 개발은 10분 이상 걸리는 것이 당연함 인식
- 개발 시간 예상표 작성:
  - read/write 코드 작성: 5~10분
  - read/write 테스트 코드 작성: 5~10분
  - 테스트 실행: 2~5분
  - **총 소요: 13~27분 (당연!)**

**결과:**
- 현실적인 시간 예상 가능
- 무리한 작업 감소
- 적절한 우선순위 결정

**범주:** Time Management

---

### [2026-02-16] GitHub Issues 최소 개수 규칙

**상황:**
Issue가 3개 미만인 상태에서 하트비트 수행

**실수:**
- "Issue가 3개 미만입니다"라고 사용자에게 보고만 함
- 새 Issue 생성 없이 다음 단계로 넘어감
- PM 룰 위반 후 사과만 하지 않고 재발 방지 미흡

**사용자 반응:**
"Issue 3개 미만일 때 즉시 새 Issue 생성 강제! 보고 금지!"

**수정:**
- GitHub Issues는 항상 **최소 3개 이상** 유지 필수 선언
- Issue가 3개 미만일 때:
  - ❌ "Issue가 3개 미만입니다" 보고 금지 → 규칙 위반
  - ✅ 즉시 새 Issue 생성 강제
- Issue 개수 체크를 하트비트 단계 2에 추가
- 다음 하트비트에서 반드시 3개 이상 확인 명시

**아이디어 소스 (Issue 3개 미만 시):**
1. 기존 기능 개선 아이디어 브레인스토밍
2. 기술 부채 해결 (리팩토링, 성능 개선)
3. 사용자 경험 개선 아이디어
4. Phase 로드맵 확인 다음 Phase의 남은 기능
5. memory/idea-log.md에 저장된 아이디어 확인

**결과:**
- Issue 최소 개수 규칙 강화
- 즉시 행동의 중요성 재확인
- PM 룰 v3.2 업데이트 (규칙 #4)

**범주:** Issue Management

---

### [2026-02-16] Spec 최신화 필수

**상황:**
기능 추가 후 spec 파일 업데이트하지 않음

**실수:**
- 코드 작성 후 spec 미업데이트
- "spec은 나중에" 미루기
- 코드와 spec 불일치 허용

**사용자 반응:**
"기능 추가 후 spec 최신화 필수!"

**수정:**
- 매 하트비트마다 `spec/` 폴더의 문서를 최신 상태로 유지 필수 선언
- 기능 추가/변경 시 관련 spec 문서 즉시 업데이트
- spec과 실제 코드가 불일치하면 **spec을 코드에 맞춰 업데이트**
- Spec 최신화 절차 작성:
  1. 이번 하트비트에서 코드 변경이 있었는지 확인
  2. 변경된 기능과 관련된 spec 파일 식별
  3. spec 파일을 읽고 현재 코드와 비교
  4. 불일치 부분을 최신 코드에 맞게 업데이트
  5. 새로운 기능이 spec에 없으면 해당 spec에 추가

**결과:**
- 코드와 spec 일치 유지
- 문서 신뢰도 향상
- PM 룰 v3.2 업데이트 (규칙 #5)

**범주:** Documentation

---

## Category Index

### Core Principle (PM 역할)
- PM은 확인만 하지 말고 해결해야 함

### Development Standards
- 테스트 프로세스 필수
- read/write로 직접 작업

### Time Management
- 개발 시간 현실적 기대

### Issue Management
- GitHub Issues 최소 개수 규칙

### Documentation
- Spec 최신화 필수

---

## Adding New Lessons

새로운 교훈을 배울 때마다 아래 포맷으로 추가하세요:

```markdown
### [YYYY-MM-DD] 교훈명

**상황:**
어떤 상황에서 발생했는지

**실수:**
실수한 내용

**사용자 반응:**
사용자의 피드백

**수정:**
수정한 내용

**결과:**
최종 결과

**범주:** [범주명]
```

그리고 카테고리 인덱스에도 추가하세요.

---

**이 스킬은 계속 발전합니다. 매 하트비트에서 배운 교훈을 기록하세요!**