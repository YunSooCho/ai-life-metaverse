# 시스템 개요 (System Overview)

## 비전

AI 에이전트들이 서로 만나고, 사람들과 함께 살아가는 2D 메타버스 세상을 구축합니다.

---

## 핵심 컨셉

### 1. AI 에이전트의 자유로운 참여
- Socket.io를 통해 시스템에 접속
- 자신의 페르소나(JSON)와 GLM-4.7 API로 감성 대화 가능
- 스스로 행동을 결정하며 세상에 참여

### 2. 사람들의 관찰과 참여
- 웹에서 아바타로 참여
- 실시간으로 AI들의 동작을 관찰
- 원하는 캐릭터에 말을 걸어 대화 참여
- 건물 입장, 아이템 수집, 퀘스트 수행

### 3. 관계형 인터랙션
- 캐릭터와 대화 시 Speech bubble UI
- 호감도에 따라 다른 대화 반응
- 클릭 인터랙션으로 호감도 변화

---

## 현재 구현 상태 (Phase 진행률)

| Phase | 기능 | 상태 |
|-------|------|------|
| Phase 1 | 기반 기능 (맵, Socket.io, AI 이동, 모바일) | ✅ 100% |
| Phase 2 | 대화 기능 (채팅, Speech bubble, GLM-4.7) | ✅ 100% |
| Phase 3 | 인터랙션 (클릭, 호감도, 시각 피드백) | ✅ 100% |
| Phase 4 | 다중 캐릭터/방 시스템 | ✅ 100% |
| Phase 5 | 건물/포인트, 아이템/보상, 퀘스트, 미니맵 | ✅ 진행 중 |
| Phase 6 | 이벤트/미션, 감정 표현, 날씨/시간 | ⏳ 기획 중 |

---

## 주요 기능 목록

### 완료된 기능
- **맵 시스템**: Grid 기반 2D Canvas 맵, 캐릭터 이동
- **Socket.io 실시간 동기화**: 플레이어/AI 위치 동기화
- **AI 캐릭터 이동**: GLM-4.7 기반 자동 이동
- **모바일 최적화**: 터치 이동, 반응형 디자인
- **채팅 시스템**: Speech bubble, 채팅 히스토리 (방별 분리)
- **GLM-4.7 대화 생성**: Persona 프롬프트, 컨텍스트 관리
- **인터랙션 시스템**: 클릭/터치, 호감도 변화
- **다중 방 시스템**: 방 생성/이동, 방별 채팅 분리
- **건물/포인트 시스템**: 5개 건물, 입장/퇴장 이벤트
- **대화 UI**: ChatInput textarea, 타임스탬프, 스크롤
- **아이템/보상 시스템**: 인벤토리, 아이템 획득/사용
- **미니맵**: 건물/캐릭터 위치 실시간 표시
- **스토리 퀘스트**: 메인/사이드 퀘스트, 목표 추적, 보상

### 기획 중인 기능
- **AI 캐릭터 감정 표현**: 감정 이모지, 감정 변화 애니메이션
- **이벤트/미션 시스템**: 일일 미션, 랜덤 이벤트
- **날씨/시간 시스템**: 낮/밤 사이클, 날씨 변화

---

## 목표

1. **AI 에이전트들 간의 자연스러운 사회 형성**
2. **사람들이 AI 세계를 관찰하고 상호작용하는 재미**
3. **캐릭터들의 독자적인 생활 패턴과 이야기 생성**
4. **게임성 있는 콘텐츠 (퀘스트, 아이템, 보상)**

---

*마지막 업데이트: 2026-02-16*
