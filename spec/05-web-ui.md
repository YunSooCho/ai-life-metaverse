# 웹 UI 설계 (Web UI Design)

## 전체 레이아웃

```
┌─────────────────────────────────────────────────┐
│  [방 메뉴] [캐릭터 목록]              [미니맵]   │
│                                                  │
│  ┌─────────────────────────────────────────────┐│
│  │                                             ││
│  │              GameCanvas                     ││
│  │         (2D 맵, 캐릭터, 건물)               ││
│  │                                             ││
│  │    [Speech Bubble]  [호감도]                 ││
│  │    [건물 아이콘]                             ││
│  │                                             ││
│  └─────────────────────────────────────────────┘│
│                                                  │
│  ┌──────────────┐ ┌──────────┐ ┌──────────────┐│
│  │  ChatInput   │ │Inventory │ │   Quest      ││
│  │  (채팅 입력) │ │(인벤토리)│ │  (퀘스트)    ││
│  └──────────────┘ └──────────┘ └──────────────┘│
│                                                  │
│  [이벤트 로그] [보상 알림] [토스트]              │
└─────────────────────────────────────────────────┘
```

---

## 컴포넌트 트리

```
App.jsx
├── RoomMenu.jsx          - 방 선택/생성 메뉴
├── CharacterList.jsx     - 접속 중인 캐릭터 목록
├── GameCanvas.jsx        - 메인 2D Canvas
│   ├── 맵 그리드 렌더링
│   ├── 건물 렌더링 (5개 건물)
│   ├── 캐릭터 렌더링
│   └── 클릭 감지 (이동, 건물 입장, 인터랙션)
├── MiniMap.jsx           - 미니맵 (우측 상단)
│   ├── 건물 위치 표시
│   ├── 플레이어 위치 (흰색)
│   └── AI 캐릭터 위치 (노란색)
├── Character.jsx         - 캐릭터 렌더링
├── ChatBubble.jsx        - Speech bubble
├── ChatInput.jsx         - 채팅 입력 (textarea)
│   ├── Enter → 전송
│   └── Shift+Enter → 줄바꿈
├── InteractionMenu.jsx   - 인터랙션 메뉴
├── AffinityDisplay.jsx   - 호감도 표시
├── Inventory.jsx         - 인벤토리 UI
│   ├── 아이템 목록
│   └── 아이템 사용 버튼
├── Reward.jsx            - 보상 UI
│   ├── 보상 목록
│   └── 수령 완료 표시
├── Quest.jsx             - 퀘스트 UI
│   ├── 활성 퀘스트 목록
│   ├── 목표 진행률
│   └── 보상 정보
├── EventLog.jsx          - 이벤트 로그 (건물 입장 등)
└── Toast.jsx             - 토스트 알림
```

---

## Custom Hooks

### useSocketEvent.js
- Socket.io 이벤트 리스너 등록/해제 관리
- 컴포넌트 마운트/언마운트 시 자동 정리

### useCharacter.js
- 캐릭터 상태 관리 (위치, 호감도, 감정)
- 캐릭터 데이터 페칭

---

## 주요 UI 기능

### 1. GameCanvas
- Canvas API로 2D 맵 렌더링
- Grid 기반 이동 (마우스 클릭/터치)
- 건물 아이콘 렌더링 (상점=빨강, 카페=갈색, 공원=초록, 도서관=파랑, 체육관=주황)
- 캐릭터 위 Speech bubble 표시
- 클릭 이벤트: 이동, 건물 입장, 캐릭터 인터랙션

### 2. ChatInput
- textarea (자동 높이 조정)
- Enter 키 → 전송
- Shift+Enter → 줄바꿈
- 메시지 히스토리 표시
- 타임스탬프 표시
- 자동 스크롤

### 3. MiniMap
- Canvas 기반 미니맵
- 건물/포인트 위치 표시
- 플레이어/AI 캐릭터 실시간 위치
- 미니맵 클릭 → 해당 위치로 이동

### 4. Inventory
- 아이템 목록 표시
- 아이템 선택/해제
- 아이템 사용 기능

### 5. Quest
- 활성 퀘스트 목록
- 목표 진행률 표시
- 보상 정보 표시
- 퀘스트 수락/완료

---

## 반응형 디자인

- **모바일 대응:** 터치 이벤트 지원
- **외부 접속:** `host: 0.0.0.0` (vite.config.js)
- **스마트폰:** handleCanvasClick (마우스/터치 동일 처리)

---

*마지막 업데이트: 2026-02-16*
